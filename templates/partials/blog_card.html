<article class="bg-white rounded-lg {% if small %}shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden border border-gray-100 hover:border-oxford-100{% else %}shadow-md overflow-hidden{% endif %} h-full flex flex-col relative">
    {% if small %}
    <a href="{{ post.link }}" class="absolute inset-0 z-10" target="_blank" rel="noopener noreferrer">
        <span class="sr-only">Read {{ post.title }}</span>
    </a>
    {% endif %}
    
    {% if show_type_banner %}
    <div class="absolute top-2 right-2 z-20 bg-bn-blush-50 text-bn-blush-700 text-xs font-medium px-3 py-1.5 inline-flex items-center gap-1.5 rounded-full shadow-sm">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
        </svg>
        Blog Post
    </div>
    {% endif %}
    
    <div class="aspect-w-16 aspect-h-9">
        {% if post.image %}
            <img src="{{ post.image }}" alt="{{ post.title }}" class="w-full h-full object-cover">
        {% else %}
            <div class="w-full h-full bg-gray-100 flex items-center justify-center">
                <span class="text-gray-400 {% if small %}text-xs{% endif %}">No image available</span>
            </div>
        {% endif %}
    </div>
    
    <div class="{% if small %}p-3{% else %}p-6 flex-1 flex flex-col{% endif %}">
        <div class="flex items-center justify-between {% if small %}mb-1{% endif %}">
            <time class="text-{% if small %}xs{% else %}sm{% endif %} text-gray-500">{{ post.date }}</time>
        </div>
        
        {% if post.tags and not small %}
            <div class="mt-1">
                <div class="flex flex-wrap gap-1">
                    {% for tag in post.tags %}
                        <span class="inline-flex flex-shrink-0 items-center px-1.5 py-0.5 rounded-md text-xs font-medium bg-blue-50 text-blue-700 whitespace-nowrap">
                            {{ tag }}
                        </span>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
        
        <h3 class="{% if small %}text-base font-medium text-oxford-900{% else %} mt-2 text-xl font-semibold text-gray-900{% endif %}">
            <span class="relative z-20 {% if small %}pointer-events-none{% endif %}">{{ post.title }}</span>
        </h3>
        
        {% if small %}
            <p class="mt-3 text-gray-600 text-sm flex-1 line-clamp-3">{{ post.summary|safe|truncatewords:30 }}</p>
        {% else %}
            <p class="mt-3 text-gray-600 text-sm flex-1">{{ post.summary|safe|truncatewords:30 }}</p>
            
            <div class="mt-4 text-sm text-gray-500">By {{ post.authors }}</div>
            
            <div class="mt-4">
                <a href="{{ post.link }}" 
                   class="inline-flex items-center px-4 py-2 bg-oxford-50 text-oxford-600 rounded-lg hover:bg-oxford-100 transition-colors duration-200 font-medium"
                   target="_blank" 
                   rel="noopener noreferrer">
                    Read blog post
                </a>
            </div>
        {% endif %}
    </div>
</article>
